# Paraglide JS 주요 변경점 요약 (2024년 11월 이후)

일단 결론부터 말하면, 2024년 11월 이후에 실질적으로 신경 써야 할 건 `@inlang/paraglide-js` 2.x 라인 전체입니다.
아래는 그중에서 안정 버전 2.0.0 이후만 추린 정리입니다.

npm 웹이 403을 뿜어서 정확한 “요일까지 찍힌 날짜”는 대부분 못 가져오고, 외부 글과 포럼 기준으로 “언제쯤 나왔는지” 정도만 적었습니다. 실제 마이그레이션에는 두 번째 표(코드 영향 정리)가 훨씬 중요합니다.

---

## 1. 기간 내 주요 버전 개요

2024년 11월 13일 이후에 의미 있는 변화가 있었던 안정 버전만 정리했습니다.

| 버전     | 시기(대략)                                                                          | 요약                                                                                                                                                         |
| ------ | ------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2.0.0  | 2025년 상반기, 최소 6월 24일 이전에 릴리스. Svelte 포럼 글 기준으로는 봄 무렵에 2.0 출시 언급 있음 ([드롭어노트][1]) | v1에서 v2로의 대규모 리디자인. 프레임워크 어댑터 제거, 통합 Vite 플러그인, 전략 기반(locale 전략) 시스템, 서버 미들웨어, `LanguageTag` → `locale` 리네임, `setLocale` 동작 변경 등 대규모 브레이킹 변경 ([Inlang][2]) |
| 2.0.5  | 2.0.0 직후, 2025년 상반기                                                             | `cookieMaxAge` 옵션 추가. 로케일 쿠키 만료 시간을 직접 제어 가능 ([Inlang][2])                                                                                                 |
| 2.0.11 | 2.0 계열 중후반, 2025년 상반기 추정                                                        | `cookieDomain` 옵션 추가. 쿠키를 서브도메인 전체에 공유할지 여부를 제어 ([Inlang][2])                                                                                              |
| 2.0.12 | 2.0.11 직후                                                                       | `createParaglide` 노출. 빌드 단계 없이도 프로그램적으로 컴파일 결과와 미들웨어를 얻는 API 제공 ([Inlang][2])                                                                              |
| 2.0.13 | 2.1.0 직전                                                                        | 서버 미들웨어에 콜백 스타일 지원 추가, `extractLocaleFromUrl` 캐시 도입 ([Inlang][2])                                                                                          |
| 2.1.0  | 2025년 중반                                                                        | 커스텀 전략 시스템 도입, `extractLocaleFromHeader` `extractLocaleFromNavigator` 공개, `Vary: Accept-Language` 자동 설정 등 전략/캐싱 관련 기능 강화 ([Inlang][2])                     |
| 2.2.0  | 2025년 7월 이전에 이미 사용 사례 확인 ([Answer Overflow][3])                                 | `extractLocaleFromRequestAsync` 도입. 커스텀 서버 전략은 반드시 이 비동기 버전을 써야 함. `cookieDomain` 기본 동작이 바뀌어 쿠키가 현재 도메인에만 묶이도록 변경 ([Inlang][2])                            |
| 2.3.0  | 2.2.0 이후, 2025년 하반기                                                             | 파라글라이드 컴파일이 실패하면 `vite build` 같은 빌드가 바로 실패하도록 변경. 빌드 파이프라인에서 에러를 숨기지 않음 ([Inlang][2])                                                                      |
| 2.4.0  | 2025년 8~9월경, npm 스냅샷에서 9월 26일 기준 최신 버전으로 표시 ([GitHub][4])                       | URL 전략에서 사용하는 `shouldRedirect` 헬퍼 추가. 리다이렉트 판단 로직을 미들웨어와 클라이언트 라우터가 공유하도록 정리 ([Inlang][2])                                                                 |
| 2.5.0  | 2025년 11월 중순경, Svelte 패키지 목록에서 3주 전 배포로 표시 ([npm][5])                           | 로케일 매칭을 완전한 대소문자 무시 방식으로 수정, `assertIsLocale` 반환값이 정규화된 로케일을 돌려주도록 수정. 몇 가지 빌드 오류를 막는 컴파일러 수정 포함 ([Inlang][2])                                             |

참고로 2024년 11월 시점에는 아직 v1 계열이었고, v1 패치 로그는 다른 브랜치에 흩어져 있어 여기서는 2.0 이후만 다뤘습니다. 실전에서 쓸 때도 지금은 2.x만 보면 된다고 봐도 무방합니다.

---

## 2. 코딩할 때 꼭 알아야 하는 변경점 정리

이제 진짜 중요한 부분입니다.
단순 버그 수정이나 성능 향상은 과감히 버리고, “코드에 손을 대야 할 만한 변화”만 버전별로 뽑았습니다.

### 2.5.0

| 버전    | 유형    | 내용                                                                                                                                                                                              | 코드 영향 / 마이그레이션                                                                                                                                             |
| ----- | ----- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2.5.0 | 동작 수정 | `extractLocaleFromNavigator` `extractLocaleFromHeader`가 일부 대문자 로케일을 제대로 못 읽던 문제 수정. `assertIsLocale` `isLocale` 비교가 완전한 대소문자 무시 방식이 되었고, `assertIsLocale`이 원본 입력 대신 정규화된 로케일을 돌려줌 ([Inlang][2]) | 정상적인 사용에서는 “원래 의도대로” 동작하게 된 것이라 대부분 마이그레이션 필요 없음. 다만 `assertIsLocale`이 돌려주는 값이 예전에는 입력 그대로였다면, 지금은 `locales` 배열에 정의된 표준화된 문자열이 되므로 그 차이에 의존하던 코드는 없애는 게 안전 |

사실상 버그 수정이지만, 타입이나 런타임에서 “로케일 문자열이 약간 다르게 돌아온다”는 점은 알고 있어야 합니다.

### 2.4.0

| 버전    | 유형    | 내용                                                                                                                      | 코드 영향 / 마이그레이션                                                                                                                          |
| ----- | ----- | ----------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| 2.4.0 | 신규 기능 | `shouldRedirect` 헬퍼 추가. URL 전략에서 미들웨어와 클라이언트 라우터 양쪽이 같은 리다이렉트 판단 로직을 공유하도록 설계 ([Inlang][2])                             | 직접 URL 전략을 커스터마이즈한다면, “내가 직접 조건 분기 해본다” 대신 `shouldRedirect`를 사용하는 쪽으로 코드를 정리하는 것이 좋음. 나중에 전략 로직이 바뀌어도 이 헬퍼 한 곳만 따라가면 됨                  |
| 2.4.0 | 버그 방지 | `overwriteSetLocale`가 `(locale, options)` 시그니처를 제대로 유지하도록 수정. 커스텀 핸들러가 `{ reload: false }` 옵션을 못 받던 문제 해결 ([Inlang][2]) | 이미 `overwriteSetLocale`을 쓰고 있고 옵션을 기대하는 코드라면, 이제 타입 에러 없이 의도대로 작동. 새로 코드를 바꿀 필요는 없지만, 예전에는 동작이 꼬여서 우회 코드를 넣어둔 경우라면 그 우회를 제거해도 되는지 점검 권장 |

### 2.3.0

| 버전    | 유형       | 내용                                                                          | 코드 영향 / 마이그레이션                                                                                                         |
| ----- | -------- | --------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| 2.3.0 | 빌드 동작 변경 | 파라글라이드가 프로젝트를 컴파일하지 못하면, `vite build` 같은 빌드 프로세스 자체가 실패하도록 변경 ([Inlang][2]) | 예전에는 번역 파일이나 설정이 약간 꼬여도 “경고만 찍고” 빌드가 살아남았을 수 있는데, 이제는 실패로 간주됨. CI 파이프라인에서 갑자기 빌드가 깨졌다면, 첫 번째로 Paraglide 컴파일 로그를 의심해야 함 |

실제 마이그레이션은 “빌드 실패 시 로그를 봐라” 수준이지만, CI 운용에서는 꽤 중요한 변경입니다.

### 2.2.0

여기는 진짜로 코드에 영향을 많이 주는 버전입니다.

| 버전    | 유형            | 내용                                                                                                                                | 코드 영향 / 마이그레이션                                                                                                                                              |
| ----- | ------------- | --------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2.2.0 | 사용 방식 변경 (중요) | 커스텀 서버 전략 지원이 `extractLocaleFromRequest`에서 `extractLocaleFromRequestAsync`로 이동. 동기 버전은 더 이상 커스텀 서버 전략을 호출하지 않음 ([Inlang][2])      | 데이터베이스에서 로케일을 읽는 등 `defineCustomServerStrategy`에 비동기 `getLocale`을 쓰고 있다면, 반드시 `await extractLocaleFromRequestAsync(request)`로 교체해야 함. 동기 함수는 이제 “기본 전략만” 지원 |
| 2.2.0 | 동작 변경         | `cookieDomain`이 설정되지 않은 경우, 이제 쿠키에 `domain=example.com` 같은 속성을 붙이지 않고 현재 도메인에만 쿠키를 묶음. 예전에는 서브도메인 전체에서 공유되는 효과가 있었음 ([Inlang][2]) | 예전처럼 서브도메인에서 같은 로케일 쿠키를 공유하고 싶다면 설정에 `cookieDomain: "example.com"`을 명시해야 함. 반대로 “쿠키가 서브도메인에 새어 나가는 것 같다”면 2.2.0 이후에는 오히려 상황이 좋아진 것일 수 있음                    |

2.2.0은 “커스텀 서버 전략 쓰는지”와 “쿠키를 서브도메인까지 공유할지”라는 두 가지 질문만 체크하면 됩니다.

### 2.1.0

전략 시스템이 제대로 얼굴을 드러난 버전입니다.

| 버전    | 유형         | 내용                                                                                                                                                               | 코드 영향 / 마이그레이션                                                                                                                                                                                                  |
| ----- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2.1.0 | 신규 기능      | `extractLocaleFromHeader`, `extractLocaleFromNavigator`를 공식적으로 export. 서버의 `Accept-Language` 헤더와 브라우저의 `navigator.languages`에서 선호 로케일을 뽑아내는 도우미 함수 ([Inlang][2]) | 커스텀 전략을 직접 짤 때, 더 이상 내부 구현을 복붙할 필요 없이 이 헬퍼를 그대로 사용하면 됨. 예를 들어 서버에서 선호 언어를 기반으로 전략을 섞고 싶다면 `extractLocaleFromHeader(request.headers)`를 호출                                                                        |
| 2.1.0 | 신규 기능 (중요) | 커스텀 전략 개념 도입. `defineCustomClientStrategy` `defineCustomServerStrategy`로 고유한 이름의 전략을 정의해서 전략 배열에 섞어 쓸 수 있음 ([Inlang][2])                                         | 예전에 `overwriteGetLocale` `overwriteSetLocale`로 강제 오버라이드하던 코드는, 가능하면 커스텀 전략으로 옮기는 편이 좋음. 예: 세션 스토리지 기반 전략을 `custom-sessionStorage`로 정의한 뒤 `strategy: ["custom-sessionStorage", "cookie", "baseLocale"]`처럼 배열에 추가 |
| 2.1.0 | 동작 변경      | `preferredLanguage` 전략을 사용할 때 자동으로 `Vary: Accept-Language` 헤더를 추가해 캐싱과 SEO에 맞게 응답을 구분 ([Inlang][2])                                                              | CDNs나 프록시 캐시를 사용하는 경우, 언어에 따라 다른 응답이 나가는 것을 제대로 인지하도록 해 줌. 따로 헤더를 직접 추가하던 코드는 중복 설정 여부만 확인하면 됨                                                                                                                  |

2.1.0은 “전략을 직접 설계하겠냐, 아니면 기존 것을 쓸 거냐”를 결정해야 하는 시점이라고 보면 편합니다.

### 2.0.5, 2.0.11, 2.0.12, 2.0.13

이 네 개는 주로 “쿠키와 미들웨어를 얼마나 세밀하게 제어하느냐”에 따라 중요도가 갈립니다.

| 버전     | 유형    | 내용                                                                                                | 코드 영향 / 마이그레이션                                                                                                                                       |
| ------ | ----- | ------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2.0.5  | 신규 옵션 | `cookieMaxAge` 옵션 추가. 컴파일러와 런타임에서 로케일 쿠키의 만료 시간을 명시적으로 지정 가능 ([Inlang][2])                        | “로케일은 1년 동안 유지돼야 한다” 같은 요구 사항이 있다면 `paraglideVitePlugin` 설정에 `cookieMaxAge`를 넣어줄 수 있음                                                                |
| 2.0.11 | 신규 옵션 | `cookieDomain` 옵션 추가. 로케일 쿠키를 어느 도메인에 바인딩할지 지정 ([Inlang][2])                                      | `example.com`과 `app.example.com`을 모두 쓰는 멀티 도메인 앱이라면 `cookieDomain: "example.com"`으로 맞춰두는 게 일반적. 2.2.0에서 기본 동작이 바뀌기 전에 도입된 옵션이라, 두 버전을 함께 고려해서 설정해야 함 |
| 2.0.12 | 신규 기능 | `createParaglide`를 공개. 빌드 전에 프로그램적으로 프로젝트를 읽어서, 런타임에서 바로 미들웨어와 헬퍼를 생성하는 고급 API ([Inlang][2])      | “사용자별로 다른 프로젝트 설정을 로드해서 동적으로 미들웨어를 만들고 싶다” 같은 특수한 요구에 쓰는 도구. 일반적인 SvelteKit 프로젝트라면 `compile`과 Vite 플러그인만으로 충분하고, 굳이 이 API를 만질 필요는 없음                 |
| 2.0.13 | 기능 개선 | 서버 미들웨어가 콜백 스타일을 지원하고, `extractLocaleFromUrl`이 마지막 값 캐시를 사용해 같은 URL에서 반복 호출 시 비용 감소 ([Inlang][2]) | Express나 Hono 같은 프레임워크와 통합할 때 “내 미들웨어 체인 스타일에 맞게” 쓰기 쉬워짐. 이미 공식 예제를 그대로 쓰고 있다면 추가 변경은 필요 없음                                                          |

### 2.0.0 (및 관련 베타) – 대규모 브레이킹 변경

실제로는 여기서 거의 모든 것이 바뀌었습니다.
핵심만 여러 줄로 쪼개서 정리합니다. ([Inlang][2])

| 버전                 | 유형                | 내용                                                                                                                                                            | 코드 영향 / 마이그레이션                                                                                                                                                         |
| ------------------ | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 2.0.0              | 구조 개편             | 프레임워크별 어댑터 패키지 제거. `@inlang/paraglide-sveltekit` `@inlang/paraglide-next` `@inlang/paraglide-astro` `@inlang/paraglide-vite` 대신 `@inlang/paraglide-js` 하나로 통합 | `package.json`에서 어댑터 패키지 제거 후, 의존성을 `@inlang/paraglide-js`로 교체해야 함. 새로운 Vite 플러그인 `paraglideVitePlugin`을 사용하도록 `vite.config`를 수정해야 함                                   |
| 2.0.0              | API 리네임           | `LanguageTag` 개념이 표준 용어인 `locale`로 바뀜. `getLanguageTag` `setLanguageTag` `availableLanguageTags`는 각각 `getLocale` `setLocale` `locales`로 대체                    | 기존 코드에서 관련 이름을 모두 새 이름으로 변경해야 함. 타입 이름, 함수 이름, 변수 이름까지 일괄 치환하는 스크립트를 쓰는 것이 현실적                                                                                         |
| 2.0.0              | 서버 미들웨어 통합        | 프레임워크별 미들웨어 대신 프레임워크 불문 `paraglideMiddleware` 하나로 SSR을 처리. 같은 패턴을 SvelteKit, Next, Astro 등에서 재사용 가능                                                           | SvelteKit라면 `handle` 훅에서 `paraglideMiddleware(event.request, () => resolve(event))`를 호출하는 형태로 정리. 기존 어댑터별 미들웨어는 제거                                                     |
| 2.0.0              | 전략 시스템 도입         | `strategy` 배열로 URL, 쿠키, 선호 언어, 기본 로케일 등 다양한 전략을 조합해 로케일을 결정할 수 있게 됨                                                                                           | 설정 파일에서 `strategy: ["url", "cookie", "preferredLanguage", "baseLocale"]` 식으로 명시. v1에서 암묵적으로 처리되던 부분을 이제는 전략 배열로 드러내야 함                                                 |
| 2.0.0              | 컴파일러 노출           | `compile` 함수가 패키지 루트에서 바로 노출되고, 대부분의 설정이 평평한 옵션으로 바뀜                                                                                                          | `@inlang/paraglide-js/compiler` 대신 `@inlang/paraglide-js`에서 `compile`을 임포트하고, 옵션 객체 구조를 문서에 맞게 평탄화해야 함                                                                 |
| 2.0.0              | 링크 로컬라이징 방식 변경    | 일부 어댑터가 사용하던 `<a>` 태그 AST 변환이 제거되고, `localizeHref`를 직접 호출하는 방식으로 변경. 이 함수 사용이 “필수”로 바뀜                                                                        | `<a href="/about">` 같은 정적 링크를 모두 `href={localizeHref("/about")}` 형태로 바꾸어야 함. 자동 AST 변환을 가정한 코드는 전부 깨짐                                                                  |
| 2.0.0              | locale 변경 동작 변경   | `setLocale` 호출 시 페이지 리로드가 기본 동작이 됨. 대신 프레임워크별 프로바이더나 복잡한 상태 공유를 제거                                                                                            | 언어 선택 UI에서는 `<button on:click={() => setLocale("de")}>Deutsch</button>` 식으로 구현하는 것이 기본 패턴. “페이지 리로드 없이 SPA처럼 언어만 바꾸고 싶다”면 Paraglide 철학과 어긋나기 때문에 다른 라이브러리를 고민해야 할 수 있음 |
| 2.0.0              | 린트 룰 폐기           | 기존 `modules` 배열에 넣던 메시지 린트 룰들이 deprecated. 미래에 Lix 기반 검증 규칙으로 재등장 예정                                                                                          | `project.inlang`의 `modules`에서 린트 룰 URL들을 제거해야 함. 남겨둬도 큰 문제는 아니지만, 향후 구조 변경 시 발목을 잡을 수 있음                                                                               |
| 2.0.0 (beta 28)    | URLPattern API 변경 | `localizedNamedGroups`와 `deLocalizedNamedGroups` 기반 API가 튜플 기반 `localized` 배열로 변경. URL 패턴 정의 방식이 크게 달라짐                                                       | 직접 URLPattern을 정의해 다국어 path를 구성하는 코드를 쓰고 있다면, 새 `localized` 형식으로 모두 다시 써야 함. 예전 구조를 전제로 한 설정은 동작하지 않음                                                                  |
| 2.0.0 (beta 28 포함) | setLocale 전략 동기화  | `setLocale`이 모든 전략에 대해 값을 설정하도록 변경. 쿠키, URL, 선호 언어 전략이 동시에 일관된 상태를 유지하도록 설계 ([Inlang][2])                                                                     | 직접 전략을 정의했다면 “setLocale가 어떤 저장소를 건드리는지”를 다시 한 번 점검해야 함. 헤더, 쿠키, URL이 뒤엉키던 문제가 줄어든 대신, 전략 구현이 더 엄격해야 함                                                                  |

실제로 v1에서 v2로 올라갈 때는:

* 의존성과 Vite 설정 교체
* `LanguageTag` → `locale` 이름 변경
* 링크와 미들웨어, 전략 설정 재구성

이 세 가지만 먼저 잡고, 그 다음에 세세한 기능들을 활용하는 식으로 접근하는 편이 현실적입니다.

---

## 정리 한 줄 요약

* “그냥 최신으로 올리면 되는가?”에 대한 답은, v2 계열 안에서는 대부분 “그렇다”.
* 하지만 v1에서 바로 2.5.0으로 점프한다면, 2.0.0의 브레이킹 체인지와 2.2.0의 전략 관련 변경(특히 비동기 서버 전략, cookieDomain 기본값)은 반드시 읽고 가야 합니다.

---

[1]: https://dropanote.de/en/blog/20250625-paraglide-js-setup-guide/?utm_source=chatgpt.com "Paraglide.js Setup: Type-Safe i18n Without Framework Lock-in"
[2]: https://inlang.com/m/gerre34r/library-inlang-paraglideJs/changelog "Paraglide JS | inlang"
[3]: https://www.answeroverflow.com/m/1399746215033176145?utm_source=chatgpt.com "UnhandledPromiseRejection on login redirect with SvelteKit"
[4]: https://raw.githubusercontent.com/opral/monorepo/refs/heads/main/inlang/packages/paraglide/paraglide-js/docs-api/runtime/type/-internal-.md?utm_source=chatgpt.com "https://raw.githubusercontent.com/opral/monorepo/r..."
[5]: https://www.npmjs.com/package/%40inlang%2Fparaglide-js?utm_source=chatgpt.com "inlang/paraglide-js"
