# Bruno v2.x 실무 대응 전략 리포트 (2024.11 - 2025.12)

2024년 11월부터 2025년 12월까지 Bruno의 발전은 **'API 테스트 자동화의 허브 역할 강화(CLI)'**와 **'엔터프라이즈 기능(Secrets, OAuth2, gRPC)의 내재화'**에 집중되었습니다. 특히 v2.0.0의 OAuth2 대개편과 v2.15.0의 주요 기능 Deprecation 신호는 기존 워크스페이스의 리팩토링을 요구하는 중요한 분기점입니다.

본 리포트는 해당 기간의 변경 사항을 분석하여, 실무에서 필수적으로 대응해야 할 아키텍처 및 워크플로우 전략을 제시합니다.

---

## 1. Executive Summary: 핵심 아키텍처 변화 (v2.0.0 - v2.15.0)

| 버전 | 핵심 마일스톤 | 아키텍처 영향 (Architectural Impact) |
| :--- | :--- | :--- |
| **v2.0.0** | **OAuth2 Restructure** | **[Migration]** OAuth2 UI 및 저장 구조의 대폭 변경. 기존 1.x OAuth2 컬렉션의 재검증 필수. |
| **v2.1.0-2.3.0** | **Secrets Integration** | **[Security]** Random/Mock 변수 도입 및 Azure/AWS Secrets Manager 연동. 보안 시크릿 관리의 중앙화. |
| **v2.6.0** | **CLI Runner Upgrade** | **[Automation]** CLI `run` 명령의 환경 파일 입력, 복수 폴더/요청 실행 지원. CI/CD 통합 난이도 대폭 하향. |
| **v2.13.0** | **gRPC & Global Search** | **[Protocol Support]** gRPC 테스트 기능 공식 도입. 복잡한 API 프로토콜을 Bruno 워크스페이스로 통합. |
| **v2.15.0** | **Deprecation Signal** | **[Refactoring]** `Presets`, `Post Response Vars`에 대한 경고 추가. 스크립트 기반 변수 관리로의 전환 유도. |

---

## 2. Critical Action Items: 워크플로우 및 테스트 전략

### 2-1. OAuth2 마이그레이션 (v2.0.0+)

* **점검:** 1.x 버전에서 생성된 OAuth2 요청을 v2.0.1 이상에서 실행하여, 토큰 획득 플로우가 정상적으로 동작하는지 확인하십시오. UI 변경으로 인해 저장된 설정이 깨질 위험이 있습니다.
* **보안 강화:** Azure Key Vault나 AWS Secrets Manager 연동(v2.3.0)을 통해, 민감한 인증 정보를 `.env` 파일 대신 인프라 시크릿 백엔드에서 직접 주입하도록 워크스페이스 설정을 변경하십시오.

### 2-2. CLI 및 CI/CD 통합 (v2.6.0+)

* **CI 테스트 플로우 단순화:** `run` 명령의 환경 파일 입력 및 복수 타깃 실행 지원을 활용하여, CI 스크립트의 복잡성을 줄이십시오. **태그 기반 런 기능(v2.8.0)**을 통해 `smoke`, `regression` 같은 테스트 스위트를 깔끔하게 분리하여 관리하십시오.
* **리포트 검증:** 리포트(JUnit/HTML) 구조가 v2.10.x 이후로 조정되었습니다. 리포트를 파싱하여 대시보드나 알림 시스템에 사용하는 경우, 업그레이드 후 필드 이름 변경을 반드시 확인하십시오.

### 2-3. 레거시 스크립트 정리 (v2.15.0)

v2.15.0에서 `Presets`와 `Post Response Vars` 사용에 대한 경고가 추가되었습니다.

* **Action:** 새로 워크스페이스를 만들 때는 이 두 기능을 의존하지 마십시오. 기존 코드는 응답 스크립트에서 **`res.json()` 등을 사용해 변수를 직접 세팅**하고, 헤더·인증 상속은 폴더/컬렉션 레벨의 일반 Auth 설정으로 대체하십시오. 이는 Bruno의 장기적인 스크립트 철학에 부합하는 변경입니다.

---

## 3. Strategic Adoption: 도입해야 할 신규 패턴

* **gRPC 테스트 통합 (v2.13.0):** gRPC 서비스가 있다면, 외부 툴(Postman 등)을 사용하지 말고 Bruno 워크스페이스로 테스트를 통합하십시오. WSSE 등 고급 인증도 지원되므로 API 테스트의 단일 허브 역할을 강화할 수 있습니다.
* **테스트 코드 품질 향상 (v2.5.0):** 테스트 스크립트에 Chai assertion 라이브러리를 도입하여, `expect(res.status).to.equal(200)`과 같은 명료한 표현식 기반의 테스트 코드를 작성하십시오.
* **동적 변수 활용 (v2.1.0+):** `randomNanoId`, `Mock` 변수, `bru.interpolate` 등의 헬퍼를 활용하여, 테스트 데이터를 동적으로 생성하고, 요청 이름이나 로그에 요청 컨텍스트를 자동으로 포함시키십시오.

---

## 4. Conclusion

Bruno v2.x 시대의 핵심은 **"테스트 러너로서의 성숙"**입니다. **OAuth2 설정을 재검증**하고 **Presets 의존성을 제거**한 뒤, **시크릿 통합 및 CLI 자동화** 기능을 적극적으로 활용하여 API 테스트 파이프라인의 안전성과 효율성을 극대화하십시오.
