# 디자인 시스템 구축 가이드

나만의 디자인 시스템을 체계적으로 만들기 위한 가이드입니다.

## 디자인 시스템이란

디자인 시스템은 **재사용 가능한 컴포넌트**와 **명확한 규칙**으로 구성된 통합 언어입니다. 단순한 UI 키트가 아니라, 제품 전체에서 일관된 경험을 만들어내는 살아있는 문서입니다.

### 디자인 시스템의 3요소

| 요소 | 설명 | 예시 |
|------|------|------|
| **토큰** | 가장 작은 스타일 단위 | 색상, 타이포그래피, 간격 |
| **컴포넌트** | 재사용 가능한 UI 블록 | 버튼, 카드, 모달 |
| **패턴** | 컴포넌트 조합 방식 | 폼 레이아웃, 네비게이션 구조 |

## 디자인 토큰

토큰은 디자인 시스템의 **원자(Atom)** 입니다. CSS 변수나 JS 상수로 구현합니다.

토큰은 단순한 변수 선언이 아니라 **유지비를 줄이는 계약**입니다. 리브랜딩, 다크모드, 고대비 같은 큰 변화가 와도 토큰 레이어에서 흡수되면 사용자 경험이 덜 흔들립니다.

> [!IMPORTANT]
> **토큰은 변수 목록이 아니라 언어입니다.** 이름이 곧 UX예요. 팀원이 토큰 이름만 보고 머릿속에 지도를 그릴 수 있어야 합니다.

### 토큰 계층 구조

```plaintext
┌─────────────────────────────────────────────────────────┐
│  시맨틱 토큰 (Semantic)                                  │
│  예: --color-primary, --color-surface, --color-error    │
├─────────────────────────────────────────────────────────┤
│  컴포넌트 토큰 (Component) - 선택적                       │
│  예: --button-bg, --card-border, --input-focus          │
├─────────────────────────────────────────────────────────┤
│  원시 토큰 (Primitive)                                   │
│  예: --blue-500, --gray-100, --spacing-4                │
└─────────────────────────────────────────────────────────┘
```

**토큰 참조 규칙:**

- **원시 토큰**: 시맨틱 토큰만 참조 가능 (UI에서 직접 사용 금지)
- **시맨틱 토큰**: 제품 전반에서 사용, 다크모드 전환 시 값만 변경
- **컴포넌트 토큰**: 컴포넌트 내부 미세 조정용, 기본값은 시맨틱 토큰 참조

> [!TIP]
> 컴포넌트는 원시 토큰을 직접 만지지 않고, 시맨틱 토큰 또는 자신의 컴포넌트 토큰만 사용합니다.

**토큰 오버라이드 규칙:**

토큰 기반 시스템을 택했다면, 오버라이드 가능 레벨과 안전성까지 명시해야 합니다.

| 레벨 | 오버라이드 대상 | 안전성 | 예시 |
|------|----------------|--------|------|
| 테마 | 시맨틱 토큰 값 | ✅ 안전 | 다크모드에서 `--color-primary` 값 변경 |
| 컴포넌트 | 컴포넌트 토큰 | ✅ 안전 | `--button-radius` 커스터마이징 |
| 인스턴스 | 개별 스타일 | ⚠️ 주의 | 특정 버튼에 `style` 직접 적용 |
| 원시 | 원시 토큰 값 | 🚫 금지 | `--blue-500` 값 변경 (연쇄 파급) |

### 필수 토큰 목록

#### 색상 (Color)

| 카테고리 | 토큰 | 용도 |
|----------|------|------|
| 브랜드 | `--color-primary`, `--color-secondary` | 주요 CTA, 강조 |
| 표면 | `--color-surface`, `--color-background` | 배경, 카드 |
| 텍스트 | `--color-text`, `--color-text-muted` | 본문, 보조 텍스트 |
| 상태 | `--color-success`, `--color-warning`, `--color-error` | 피드백 |
| 인터랙션 | `--color-primary-hover`, `--color-surface-hover` | 맥락별 상호작용 |
| 포커스 | `--focus-ring-color`, `--focus-ring-width`, `--focus-ring-offset` | 포커스 링 |

> [!IMPORTANT]
> 색상은 **OKLCH** 또는 **HSL** 형식을 권장합니다. 명도 조절이 쉽고 다크모드 전환에 유리합니다.

#### 타이포그래피 (Typography)

| 토큰 | 용도 |
|------|------|
| `--font-family-base` | 본문 폰트 |
| `--font-family-heading` | 제목 폰트 (선택) |
| `--font-family-mono` | 코드 폰트 |
| `--font-size-xs` ~ `--font-size-4xl` | 크기 스케일 |
| `--font-weight-normal`, `--font-weight-medium`, `--font-weight-bold` | 굵기 |
| `--line-height-tight`, `--line-height-normal`, `--line-height-relaxed` | 행간 |

#### 간격 (Spacing)

**4px 또는 8px 베이스 시스템**을 권장합니다. (전제: `1rem = 16px`)

spacing 토큰은 용도에 따라 둘로 분리하면 조정이 편해집니다:

- **레이아웃 계열**: `--gutter`, `--container-padding`, `--grid-gap`
- **컨트롤 계열**: `--control-height`, `--control-padding`, `--control-radius`

```css
/* 기본 간격 스케일 */
--spacing-1: 0.25rem;  /* 4px */
--spacing-2: 0.5rem;   /* 8px */
--spacing-3: 0.75rem;  /* 12px */
--spacing-4: 1rem;     /* 16px */
--spacing-6: 1.5rem;   /* 24px */
--spacing-8: 2rem;     /* 32px */
--spacing-12: 3rem;    /* 48px */
--spacing-16: 4rem;    /* 64px */
```

#### 기타 토큰

| 카테고리 | 예시 |
|----------|------|
| 테두리 | `--radius-sm`, `--radius-md`, `--border-width` |
| 그림자 | `--shadow-sm`, `--shadow-md`, `--shadow-lg` |
| 전환 | `--duration-fast`, `--duration-normal`, `--easing-ease-out` |
| z-index | `--z-dropdown`, `--z-modal`, `--z-toast` |

## 색상 시스템 설계

### 팔레트 구성 전략

1. **브랜드 색상 선택**: 1~2개의 주요 색상 결정
2. **명도 스케일 생성**: 50~950 단계로 변형 생성
3. **시맨틱 매핑**: 원시 색상을 의미 있는 이름에 연결
4. **다크모드 대응**: 명도를 반전하거나 별도 팔레트 정의

### OKLCH 활용 예시

```css
:root {
  /* 원시 토큰 */
  --blue-500: oklch(55% 0.15 250);
  --blue-600: oklch(48% 0.15 250);
  
  /* 시맨틱 토큰 */
  --color-primary: var(--blue-500);
  --color-primary-hover: var(--blue-600);
}

[data-theme="dark"] {
  --color-primary: oklch(70% 0.12 250);
  --color-primary-hover: oklch(75% 0.12 250);
}
```

### 대비 검증

| WCAG 레벨 | 최소 대비 | 용도 |
|-----------|----------|------|
| AA (일반) | 4.5:1 | 일반 텍스트 |
| AA (대형) | 3:1 | 18px+ 또는 14px Bold |
| AAA | 7:1 | 가독성 최우선 |

> [!CAUTION]
> 대비 검증은 텍스트뿐 아니라 **아이콘, 경계선, 포커스 링**에도 적용하세요.

### 접근성과 성능 기본값

디자인 시스템의 품질 바닥선으로 접근성과 성능을 기본값으로 설정합니다.

**기본값 우선순위**: 안전/포용 → 속도 → 미적 취향. 접근성, 국제화, 성능은 나중에 붙이면 정말 비쌉니다.

| 항목 | 기준 |
|------|------|
| 터치 타깃 | 최소 44×44px (WCAG 2.5.5) |
| 키보드 | Tab 순서, 포커스 표시, ESC로 닫기 |
| 포커스 링 | 색상 + 두께 + 오프셋 토큰화 |
| 모션 | `prefers-reduced-motion` 대응 필수 |
| 성능 | 초기 로드 영향 최소화, 지연 로드 가능 구조 |

> [!IMPORTANT]
> **성능도 계약에 포함시키세요.** 느린 버튼은 버튼이 아니라 장애물입니다. 컴포넌트별 번들 크기, 렌더링 비용을 문서화하고 회귀를 감지하세요.

## 타이포그래피 스케일

### 모듈러 스케일

비율 기반으로 조화로운 크기 체계를 만듭니다.

| 스케일 이름 | 비율 | 특징 |
|-------------|------|------|
| Minor Second | 1.067 | 매우 미세한 차이 |
| Major Second | 1.125 | 부드러운 변화 |
| Minor Third | 1.2 | **균형 잡힌 선택** |
| Major Third | 1.25 | 명확한 계층 |
| Perfect Fourth | 1.333 | 강한 대비 |

### 실용적 스케일 예시 (비율 1.2 기준)

```css
--font-size-xs: 0.694rem;   /* 11px */
--font-size-sm: 0.833rem;   /* 13px */
--font-size-base: 1rem;     /* 16px - 기준 */
--font-size-lg: 1.2rem;     /* 19px */
--font-size-xl: 1.44rem;    /* 23px */
--font-size-2xl: 1.728rem;  /* 28px */
--font-size-3xl: 2.074rem;  /* 33px */
--font-size-4xl: 2.488rem;  /* 40px */
```

## 컴포넌트 설계 원칙

### 컴포넌트 분류

| 레벨 | 설명 | 예시 |
|------|------|------|
| Atom | 더 이상 분해 불가 | 버튼, 입력, 아이콘 |
| Molecule | Atom 조합 | 검색창(입력+버튼), 폼 필드(라벨+입력) |
| Organism | Molecule 조합 | 헤더, 카드, 사이드바 |
| Template | 페이지 구조 | 그리드 레이아웃 |

### 컴포넌트 API 설계

좋은 컴포넌트 API의 특징:

- **예측 가능**: 일관된 prop 네이밍 (`size`, `variant`, `disabled`)
- **확장 가능**: 기본 HTML 속성 전달 지원
- **합성 가능**: 슬롯/children으로 내부 커스터마이징

```svelte
<!-- 좋은 예: 일관된 API -->
<Button size="sm" variant="primary" disabled>저장</Button>
<Input size="sm" variant="outline" disabled />

<!-- 나쁜 예: 불일치 API -->
<Button small primary isDisabled>저장</Button>
<Input sz="small" type="outlined" disable />
```

### 변형(Variant) 설계

| 변형 유형 | 옵션 예시 | 용도 |
|-----------|----------|------|
| size | `xs`, `sm`, `md`, `lg`, `xl` | 크기 조절 |
| variant | `solid`, `outline`, `ghost`, `link` | 스타일 변형 |
| intent | `primary`, `secondary`, `danger`, `success` | 의미/색상 |

> [!IMPORTANT]
> **state는 variant 축에서 분리하세요.** `disabled`, `loading`, `error`는 "시각 변형"이 아니라 "동작 상태"입니다. variant 축에 넣으면 조합이 곱셈으로 늘어납니다.
>
> - 변형 축은 최대 2개까지 (size + variant 또는 size + intent)
> - 상태는 별도 boolean prop으로 처리 (`disabled`, `loading`)

### 컴포넌트 개발 원칙

| 구분 | 원칙 |
|------|------|
| ✅ DO | 레이아웃(Margin, Position)은 컴포넌트 **외부(부모)** 에서 제어 |
| ✅ DO | Headless 패턴 고려 - 로직과 스타일 분리로 재사용성 향상 |
| ✅ DO | 기본 HTML 속성 전달 지원 (`...restProps`) |
| ✅ DO | **공개 표면 선언** - 약속(토큰, props, 슬롯, 이벤트)과 구현(내부 DOM, 클래스) 구분 |
| ❌ DON'T | 비즈니스 로직(API 호출)을 기본 UI 컴포넌트에 결합 |
| ❌ DON'T | 컴포넌트 내부에서 전역 상태 직접 접근 |

> [!TIP]
> **공개 표면(API)과 구현을 명확히 구분하세요.** 토큰 이름, props, 슬롯, 이벤트는 약속이고, 내부 DOM 구조나 클래스명은 구현입니다. 이 경계가 없으면 리팩터링이 곧 전쟁이 됩니다.

## 문서화 전략

### 문서화 필수 요소

1. **토큰 레퍼런스**: 모든 토큰 목록과 시각적 예시
2. **컴포넌트 카탈로그**: 각 컴포넌트의 변형, props, 사용 예시
3. **상태별 시각화**: Default, Hover, Focus, Active, Disabled, Error 등
4. **사용 가이드라인**: Do/Don't 예시
5. **접근성 체크리스트**: ARIA, 키보드 내비게이션

> [!TIP]
> **비정상 상태를 문서 앞부분에 두세요.** 현실 UI는 대부분 loading, error, empty 상태에서 터집니다. 정상 상태만 만들면 절반만 만든 겁니다.

### 스토리북과 시각 회귀 테스트

스토리북을 단순 예시가 아닌 **실행 가능한 명세**로 활용하세요.

| 도구 | 용도 |
|------|------|
| **Storybook** | 상태별 스토리 (default, hover, focus, disabled, error) |
| **시각 회귀 테스트** | PR에서 스냅샷 diff 표시, 대형 사고 방지 |
| **접근성 체크** | 기본 파이프라인에 axe-core 등 통합 |

경량화 대안:

- **마크다운 + 코드 블록**: 간단한 예시 문서
- **라이브 플레이그라운드 페이지**: `/styleguide` 라우트 추가
- **Storybook Lite**: `histoire` (Vue/Svelte용 경량 스토리북)

> [!IMPORTANT]
> **테스트가 없으면 계약은 소원입니다.** 시각 회귀 테스트는 "눈으로 확인"을 시스템으로 승격시킵니다.

**자동 검증 루틴:**

| 단계 | 검증 내용 | 빈도 |
|------|----------|------|
| 커밋 전 | 하드코딩 문자열, 폼 라벨, 클릭 요소 시맨틱 | 매 커밋 |
| PR | axe 스모크, 번역 키 누락, 키보드 내비게이션 | 매 PR |
| 야간 | 의사 로케일(30~80% 팡창), RTL, 시각 회귀 | 매일 |

### 컴포넌트 체크리스트

새 컴포넌트를 추가하기 전 확인할 항목:

**스타일 계약:**

- [ ] 시맨틱 토큰만 사용 (원시 토큰 직접 참조 금지)
- [ ] 변형 축 2개 이하 (size + variant 또는 size + intent)
- [ ] 상태는 별도 boolean prop으로 처리
- [ ] 매직 넘버 금지 (하드코딩된 값 없음)

**접근성 계약:**

- [ ] 키보드만으로 조작 가능
- [ ] 기본 포커스 위치와 이동 규칙 정의
- [ ] 터치 타깃 최소 44×44px
- [ ] 에러 상태를 시각 이외 방식으로도 전달
- [ ] `prefers-reduced-motion` 대응

**국제화 계약:**

- [ ] 텍스트는 전부 키 기반 (하드코딩 금지)
- [ ] 복수형/숫자 단위 처리 확인
- [ ] 날짜/시간/숫자 포맷이 로케일 따름
- [ ] 텍스트 팡창(30~40%) 시 레이아웃 유지

## 구현 팁

### CSS 변수 구성

```css
/* tokens.css - 토큰 정의 */
:root {
  /* 원시 토큰 */
  --raw-blue-500: oklch(55% 0.15 250);
  
  /* 시맨틱 토큰 */
  --color-primary: var(--raw-blue-500);
}

/* base.css - 기본 스타일 */
body {
  background: var(--color-background);
  color: var(--color-text);
}
```

### 다크모드 대응

```css
/* 방법 1: CSS 변수 덮어쓰기 */
[data-theme="dark"] {
  --color-background: var(--raw-gray-900);
  --color-text: var(--raw-gray-100);
}

/* 방법 2: 시스템 설정 감지 */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --color-background: var(--raw-gray-900);
  }
}
```

### 구현 전략 비교

팀 규모와 상황에 맞는 방식을 선택하세요.

| 평가 기준 | Copy/Paste (Shadcn) | 모노레포 라이브러리 | 서드파티 커스텀 (MUI) |
|-----------|:-------------------:|:------------------:|:---------------------:|
| 초기 구축 속도 | ★★★ | ★ | ★★ |
| 커스터마이징 유연성 | ★★★ | ★★★ | ★★ |
| 유지보수 용이성 | ★★ | ★★★ | ★★ |
| 일관성 강제력 | ★★ | ★★★ | ★★★ |

- **Copy/Paste**: 빠른 프로토타이핑, 소규모 팀, 독립 프로젝트
- **모노레포**: 100개+ 페이지, 여러 제품군 일관 관리
- **서드파티**: 빠른 시작이 필요하지만 깊은 커스터마이징은 불필요할 때

### 단계별 구축 로드맵

| 단계 | 작업 | 산출물 |
|------|------|--------|
| 1 | 색상 팔레트 정의 | `tokens.css` 색상 섹션 |
| 2 | 타이포그래피 스케일 | 폰트 크기/행간 토큰 |
| 3 | 간격 시스템 | spacing 토큰 |
| 4 | 기본 컴포넌트 | Button, Input, Card |
| 5 | 문서화 페이지 | `/styleguide` 라우트 |
| 6 | 패턴 라이브러리 | 폼, 레이아웃 가이드 |

### 최소 세트 6개 (30일 목표)

리소스가 한정됐을 때 "완성품"이 아니라 "충돌을 줄이는 장치"부터 깔아야 합니다.

1. **토큰 1벌**: 색, 타이포, 간격, 라운드, 그림자. Figma 스타일과 1:1 매칭.
2. **스펙 팩 템플릿**: 컴포넌트별 `spec.md` + 상태 스토리 5개 (default, hover, focus, active, disabled)
3. **코어 컴포넌트 3개**: Button, Input, Modal/Dialog. 이 3개가 합의되면 나머지도 빨라집니다.
4. **시각 회귀 테스트**: 스토리 스냅샷 → PR에서 diff 표시
5. **기여 규칙 1페이지**: PR 체크리스트 + 최종 승인자 지정
6. **버저닝/폐기 규칙**: UI 기준 SemVer + Deprecated 4종 세트

> [!TIP]
> 첫 30일 목표는 단 하나: **디자이너와 개발자가 같은 단어를 쓰게 만들기.**

## 운영 조언

### 계약 우선 원칙

3년 뒤에도 살아남는 디자인 시스템은 "예쁜 부품 모음"이 아니라 **약속을 지키는 조직 장치**입니다.

> [!IMPORTANT]
> **계약이 먼저다. 그리고 그 계약은 자동으로 검증된다.**

계약 = 토큰, 컴포넌트 인터페이스, 상태, 접근성 규칙, 폐기 정책. 이걸 문서와 코드와 테스트로 동시에 잠가두는 겁니다.

### 시스템은 제품팀을 지배하지 않는다

디자인 시스템이 "제품을 대신 만들어주는 팀"이 되면 망가집니다.

- 시스템의 역할은 일관성, 효율, 품질을 올려서 제품팀이 더 어려운 문제를 풀 수 있게 하는 것
- 채택 여부와 속도는 제품팀이 결정
- "규칙 준수"가 아니라 "도움이 되는 기본값"이 되어야 함

> [!TIP]
> **원칙은 포스터가 아니라 의사결정 장치입니다.** 원칙이 팀의 말다툴을 줄여주지 못한다면, 그 원칙은 장식품이에요.

### 점진적 고도화

한 번에 완벽하게 만들려 하지 마세요. 가장 많이 쓰이는 버튼, 인풋, 타이포그래피부터 시작하고, 필요할 때마다 하나씩 추가하세요.

### 거버넌스 프로세스

누구나 컴포넌트를 수정할 수 있으면 시스템은 금방 오염됩니다.

| 구분 | 규칙 |
|------|------|
| 변경 제안 | PR 리뷰 필수, 문제/사용 맥락/접근성/토큰 영향 명시 |
| Breaking Change | 별도 논의, 마이그레이션 가이드 제공 |
| 버전 관리 | SemVer 준수 (Major: 호환 깨짐, Minor: 기능 추가, Patch: 버그 수정) |

**RFC 프로세스 (중요 변경 시):**

토큰 추가, 컴포넌트 신규, 기본값 변경, 접근성 규칙 수정 같은 건 간단한 RFC로 남깁니다.

- 논쟁의 결론이 아니라 **이유**가 남는 게 핵심
- 미래의 내가 가장 고마워합니다
- 유지관리자 모델: `CODEOWNERS`처럼 "이 영역은 누가 최종 승인권자인지" 박아둘 것

**UI 기준 Breaking Change 정의:**

타입이 안 깨져도 화면이 깨지면 Breaking Change입니다.

- 높이, 패딩, 대비 변경
- 포커스 링 스타일 변경
- 기본 상태의 의미 변경
- 토큰 값 변경으로 인한 시각적 차이

**PR 체크리스트 예시:**

- [ ] Figma 변경 반영됨
- [ ] 토큰 변경 있음 (있다면 영향 범위 명시)
- [ ] 스토리 추가/업데이트됨
- [ ] 접근성 체크 완료
- [ ] 시각 회귀 테스트 통과

### 폐기 정책

시스템이 커질수록 "무엇을 만들까"보다 "무엇을 없애야 하나"가 더 중요해집니다.

1. **deprecated 표시**: 코드 주석 + 문서에 경고
2. **대체안 제공**: 새 컴포넌트/토큰으로 마이그레이션 경로 안내
3. **제거 시점**: 최소 1개 메이저 버전 예고 후 삭제

### 채택 장벽 낮추기

아무리 이상적인 규칙이어도 안 쓰이면 공허합니다. "쉽게 시작해서 자연스럽게 표준으로 끌려가게" 만드세요.

**성공 지표는 '완성도'가 아니라 '도입 장벽'입니다:**

- 새 기능 1개 만들 때 절약되는 시간보다
- 시스템을 배우고, 찾고, 적용하고, 예외 처리하는 시간이 더 작아지는 순간
- 이 임계점을 넘어야 장기 이득이 폭발합니다

**도입 장벽을 낮추는 방법:**

- 문서가 추상 원칙이 아니라 **따라 하면 좋은 선택**을 하게 만드는 구조
- 복사-붙여넣기 가능한 코드 스니펫 제공
- 에러 메시지에 올바른 사용법 링크 포함

### 복잡도 조기 경보

다음 신호가 3개 이상 동시에 보이면 시스템 점검이 필요합니다:

- 신규 화면에서 시스템 컴포넌트 사용률 하락
- 커스텀 CSS나 로컬 오버라이드 증가
- 같은 UI 목적의 컴포넌트가 둘 이상 존재
- 의미 토큰보다 컴포넌트 토큰이 더 빨리 증가
- 마이그레이션 가이드가 길어지고 팀들이 업데이트를 미룸

### 공식 탈출구

예외를 없애는 게 아니라, **예외의 모양을 한 가지로 고정**합니다.

- 탈출구는 단 하나의 방식만 제공 (slot 확장 또는 style override 토큰)
- 탈출구 사용 시 반드시 이유를 남기게 하기 (다음 분기 개선 로드맵이 됨)
- 예외가 월 3회를 넘으면 규칙 자체를 재검토

**예외 허용 판단 기준 (7개 중 5개 이상 만족 시 허용):**

| # | 질문 | 판단 |
|---|------|------|
| 1 | 사용자 가치 | 편의가 아니라 문제를 줄인다, 돈을 번다, 이탈을 막는다 |
| 2 | 영향 범위 | 특정 페이지/플로우/테넌트처럼 경계가 그려진다 |
| 3 | 되돌림 가능 | 플래그로 끄기, 설정으로 복구, 롤백이 가능 |
| 4 | 안전장치 | 테스트, 모니터링, 제한 조건, 폴백 UI 중 최소 2개 |
| 5 | 대안 검토 | 규칙 준수 방법 2개 이상 적고 왜 안 되는지 설명 |
| 6 | 만료 조건 | 종료 날짜 또는 종료 이벤트가 적혀 있다 |
| 7 | 책임자 | 유지보수와 종료 담당자 이름이 있다 |

**예외 유형 분류:**

| 유형 | 설명 | 만료 |
|------|------|------|
| 🚨 응급 | 장애/긴급 버그 | 1주 이내 |
| 🧪 실험 | A/B 테스트, 탐색 | 지표+종료조건 필수 |
| 🏗️ 구조 | 플랫폼 제약, 장기 이슈 | 규칙 자체 수정 검토 |

**예외 레지스트리:**

`exceptions.md` 파일을 두고 예외 목록을 한 줄씩 쌍습니다. 날짜, 규칙, 만료 조건, 상태만 적는 인덱스예요. 예외가 늘어나는 속도를 눈으로 보게 만드는 장치입니다.

이렇게 적으면 예외가 감정 싸움이 아니라 시스템의 진화 로그가 됩니다.

> [!NOTE]
> 규칙을 늘리기 전에 먼저 질문하세요: "이 규칙이 창의성을 막는가, 아니면 반복 노동을 없애는가?" 막는다면, 그건 규칙이 아니라 감옥입니다.

### 네이밍 규칙

토큰 접두사를 통일하면 검색성과 자동화가 좋아집니다.

| 카테고리 | 접두사 | 예시 |
|----------|--------|------|
| 색상 | `color-` | `--color-primary`, `--color-surface` |
| 간격 | `spacing-` | `--spacing-4`, `--spacing-8` |
| 폰트 | `font-` | `--font-size-lg`, `--font-weight-bold` |
| 반경 | `radius-` | `--radius-sm`, `--radius-md` |
| 그림자 | `shadow-` | `--shadow-sm`, `--shadow-lg` |
| z-index | `z-` | `--z-modal`, `--z-toast` |

### 디자인-개발 언어 통일

Figma 변수명과 코드 변수명이 100% 일치해야 커뮤니케이션 비용이 줄어듭니다.

| Figma | CSS 변수 |
|-------|----------|
| `color/primary` | `--color-primary` |
| `spacing/4` | `--spacing-4` |
| `radius/md` | `--radius-md` |

### 측정 지표

시스템이 잘 되고 있는지 감으로 싸우지 마세요.

| 영역 | 지표 |
|------|------|
| 채택 | 신규 화면 시스템 컴포넌트 사용률, 커스텀 스타일 빈도 |
| 품질 | 접근성 검사 통과율, 오류률, 재시도율 |
| 속도 | 화면 리드타임, 디자인 변경 반영 시간 |
| 비용 | 예외 유지보수 시간, 디자인 부채 티켓 증가율 |

### 흔한 실패 패턴

- **팔레트부터 만들고 의미 토큰을 늦게** → 브랜드 변경 시 고통
- **거대 컴포넌트를 전면에** → 수정 불가능한 덩어리 증가
- **접근성/상태를 문서 하단에 숨김** → 출시 직전 품질 흔들림
- **확장 방법 없이 금지만** → 몰래 우회, 시스템 유명무실
- **운영을 사람 기억에 의존** → 담당자 교체 시 시스템 멈춤

### 국제화(i18n) 고려사항

국제화는 번역 파일이 아니라 **레이아웃과 데이터 형식**의 문제입니다.

| 항목 | 고려사항 |
|------|----------|
| 텍스트 팽창 | 영어 → 독일어 30~40% 증가, 컴포넌트 최소 폭 설정 |
| RTL 레이아웃 | 오른쪽에서 왼쪽 쓰기를 기본 시나리오로 포함 |
| 날짜/숫자/통화 | 로케일 포맷을 전제로 한 컴포넌트 API |
| Bidi 격리 | 문자열 경계에서 방향성 혼합 시 spillover 방지 |

> [!CAUTION]
> 국제화를 나중에 붙이면 "매번 터지는 버그 장르"가 됩니다. 디자인 시스템의 기본값에 미리 녹여두세요.

## 참고 자료

### 영감을 얻을 디자인 시스템

| 시스템 | 특징 | 링크 |
|--------|------|------|
| Tailwind CSS | 유틸리티 기반, 실용적 | tailwindcss.com |
| Radix UI | 접근성 우선, 헤드리스 | radix-ui.com |
| Shadcn/UI | 복사-붙여넣기 방식, 커스터마이징 용이 | ui.shadcn.com |
| Open Props | CSS 변수 기반 토큰 | open-props.style |
| Pico CSS | 클래스 없는 시맨틱 스타일 | picocss.com |

### 도구

| 도구 | 용도 |
|------|------|
| **Figma Tokens** | 디자인 → 코드 토큰 추출 |
| **Style Dictionary** | 토큰 변환 (CSS, JS, iOS, Android) |
| **Contrast Checker** | WCAG 대비 검증 |
| **Type Scale** | 타이포그래피 스케일 생성기 |
