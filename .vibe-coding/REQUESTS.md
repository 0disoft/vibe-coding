# 바이브 코딩 요청 및 작업 추적 (REQUESTS)

이 문서는 이용자가 에이전트(LLM)에게 요청한 다양한 작업 사항과 그 진행 상태를 한눈에 파악하기 위한 마스터 보드입니다.

---

## 요청 유형 가이드

- **코드 개선 제안**: 특정 파일의 품질, 성능, 접근성 리뷰 요청
- **기능 구현**: 새로운 기능이나 컴포넌트 추가 요청
- **버그 수정**: 발견된 이슈 해결 요청
- **구조 개선**: 프로젝트 아키텍처나 설정 환경 변경 요청
- **문서화**: 기술 문서 작성이나 README 업데이트 요청

## 상태 아이콘 가이드

- ⏳ **대기**: 요청이 접수되었으나 아직 작업 전
- 🏗️ **진행 중**: 에이전트가 현재 작업 중
- ✅ **완료**: 작업이 완료되고 이용자에게 보고됨
- ❌ **중단/보류**: 기술적 제약이나 우선순위 조정으로 중단됨

## 판단 아이콘 가이드 (LEAD_ENGINEER)

- ✅ **반영**: 즉시 구현
- ⏭️ **무시**: 구현하지 않음
- ⏸️ **보류**: 나중에 검토
- ❓ **확인 필요**: 추가 정보 필요
- 🔵 **확인됨**: 이미 구현됨
- 🔄 **부분 반영**: 일부만 채택
- ⚠️ **위험**: 구현 가능하나 리스크 존재
- 🔀 **대안 제시**: 다른 방식으로 해결
- 📝 **문서화**: 코드가 아닌 문서로 해결

---

## 요청 내역 및 상태

| 순번 | 요청 유형 | 대상 파일/항목 | 상태 | 비고 |
| :--- | :--- | :--- | :--- | :--- |
| 1 | 코드 개선 제안 | `src/lib/components/design-system/FilterBar.svelte` | ✅ 완료 | [상세 보기](#1-filterbar-리팩토링) |
| 2 | 코드 개선 제안 | `src/lib/components/design-system/AdSlot.svelte` | ✅ 완료 | [상세 보기](#2-adslot-리팩토링) |

---

## 📋 작업 상세 내용

### 1. FilterBar 리팩토링

- **대상**: `src/lib/components/design-system/FilterBar.svelte`
- **관점**: `A11Y_UX_COPILOT` (UX 및 접근성 인터랙션)
- **제안 내용**:
  - **컴포넌트 분리**: 검색(`DsInput`), 정렬(`DsSelect`), 필터(`children`) 영역의 명시적인 레이아웃 구조화 및 필요시 서브 컴포넌트화 검토.
  - **UX/레이아웃 안정성**: `Clear` 버튼이 데이터 입력 시나리오에 따라 동적으로 나타났다 사라지는데, 이때 발생하는 레이아웃 시프트(CLS)를 방지하기 위해 고정된 공간 확보 또는 부드러운 전환 처리 제안.
  - **상태 동기화 최적화**: `$effect`를 사용한 `query`와 `inputValue` 간의 동기화 로직을 더 선언적인 방식(예: `get`/`set` 패턴 확대)으로 개선 가능한지 검토.
  - **접근성 보강**: 필터링이나 정렬이 수행될 때 스크린 리더 사용자에게 실시간 결과를 알릴 수 있도록 `aria-live` 영역 추가 검토.
  - **Debounce 로직 유틸화**: 컴포넌트 내부에 산재된 `setTimeout` 기반 디바운스 로직을 범용적인 유틸리티로 추출하여 가독성 및 재사용성 향상.
- **처리 결과**:
  - ✅ **UX/레이아웃 안정성**: `Clear` 버튼 슬롯을 상시 렌더링하고, 비활성 시 숨김 처리(`data-hidden`)로 레이아웃 시프트를 제거했습니다.
  - ✅ **상태 동기화 최적화**: 입력값은 `bind:value` + `get/set` 프록시로 관리하고, 쿼리 반영은 디바운스 유틸로 처리하도록 정리했습니다.
  - ✅ **접근성 보강**: `aria-live="polite"` 영역을 추가해 검색/정렬 변경 시 상태를 알립니다.
  - ✅ **Debounce 로직 유틸화**: `src/lib/shared/utils/debounce.ts`에 공용 디바운스 러너를 추가했습니다.
  - ⏭️ **컴포넌트 분리**: 현재 파일 규모(172줄)와 명확한 레이아웃 구조를 고려해 과도한 분리는 보류했습니다.
  - ✅ **검증**: `bun run lint` 실행 완료.

### 2. AdSlot 리팩토링

- **대상**: `src/lib/components/design-system/AdSlot.svelte`
- **관점**: `A11Y_UX_COPILOT` (UX 안정성 및 투명한 광고 경험)
- **제안 내용**:
  - **CLS(누적 레이아웃 시프트) 원천 차단**: 광고가 로드되기 전후의 레이아웃 변화를 막기 위해 `variant`별 권장 최소 높이(`min-height`)를 상수로 정의하고, 값이 누락된 경우에도 기본 공간을 확보하도록 개선합니다.
  - **광고 표기 규정 준수**: "Advertisement" 또는 "AD" 라벨의 시각적 가독성(대비)을 점검하고, Paraglide를 통한 로컬라이징(`m.common_advertisement()`)을 적용하여 전 세계 사용자에게 투명하게 정보를 제공합니다.
  - **접근성 보강**: `role="complementary"`와 `$props.id()` 기반의 `aria-labelledby` 연결은 우수합니다. 추가로 광고 차단기(AdBlocker) 등에 의해 요소가 숨겨질 경우 레이아웃이 깨지지 않도록 `display: grid`나 `aspect-ratio` 기반의 컨테이너 안정화 전략을 보강합니다.
  - **로딩 및 실패 상태 UX**: 광고 로딩 실패 시 빈 공간이 흉하게 남지 않도록 플레이스홀더(`showPlaceholder`)의 스타일을 개선하거나, 일정 시간 후 슬롯을 부드럽게 접는(Collapse) 로직 검토를 제안합니다.
- **처리 결과**:
  - ✅ **CLS 원천 차단**: `variant`별 기본 `min-height` 상수를 정의하고, CSS 변수를 통해 광고 로드 전 공간을 강제 확보했습니다.
  - ✅ **로컬라이징 적용**: "Advertisement" 라벨 및 플레이스홀더 텍스트를 Paraglide(`m.common_advertisement`) 연동으로 전환했습니다.
  - ✅ **접근성 보강**: `role`을 `region`으로 조정하고 `aria-roledescription`을 추가하여 광고 영역임을 명확히 인지하도록 개선했습니다.
  - ✅ **UX 개선**: 플레이스홀더에 은은한 배경색과 대시 테두리를 적용하여 시각적 완성도를 높였습니다.
  - ✅ **검증**: `bun run lint` 실행 완료.
