/* ───────────────────────────────────────────────────────────
   Component: DsTag
   ─────────────────────────────────────────────────────────── */

.ds-tag {
	display: inline-flex;
	align-items: center;
	gap: 0.375rem;
	border-radius: 9999px;
	border: 1px solid transparent;
	padding: 0.2rem 0.6rem;
	font-size: var(--font-size-tag);
	line-height: 1.2;
	font-weight: 650;
	white-space: nowrap;
}

.ds-tag-label {
	min-width: 0;
	overflow: hidden;
	text-overflow: ellipsis;
}

.ds-tag-start,
.ds-tag-end {
	display: inline-flex;
	align-items: center;
}

[dir="rtl"] .ds-tag-start[data-flip-rtl="true"],
[dir="rtl"] .ds-tag-end[data-flip-rtl="true"] {
	transform: scaleX(-1);
}

.ds-tag-remove {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	border: none;
	background: transparent;
	padding: 0;
	color: inherit;
	cursor: pointer;
}

.ds-tag-remove:focus-visible {
	outline: 2px solid oklch(var(--color-border-strong));
	outline-offset: 2px;
	border-radius: 9999px;
}

.ds-tag[data-ds-size="sm"] {
	font-size: var(--font-size-xs);
	padding: 0.15rem 0.5rem;
}

.ds-tag[data-ds-intent="neutral"] {
	--ds-tag-bg: var(--color-surface-hover);
	--ds-tag-fg: var(--color-text);
	--ds-tag-border: var(--color-border);
}

.ds-tag[data-ds-intent="primary"] {
	--ds-tag-bg: var(--color-primary);
	--ds-tag-fg: var(--color-on-primary);
	--ds-tag-border: var(--color-primary);
}

.ds-tag[data-ds-intent="secondary"] {
	--ds-tag-bg: var(--color-secondary);
	--ds-tag-fg: var(--color-on-secondary);
	--ds-tag-border: var(--color-border);
}

.ds-tag[data-ds-intent="success"] {
	--ds-tag-bg: var(--color-success);
	--ds-tag-fg: var(--color-on-success);
	--ds-tag-border: var(--color-success);
}

.ds-tag[data-ds-intent="warning"] {
	--ds-tag-bg: var(--color-warning);
	--ds-tag-fg: var(--color-on-warning);
	--ds-tag-border: var(--color-warning);
}

.ds-tag[data-ds-intent="error"] {
	--ds-tag-bg: var(--color-error);
	--ds-tag-fg: var(--color-on-error);
	--ds-tag-border: var(--color-error);
}

.ds-tag[data-ds-variant="soft"] {
	background: oklch(var(--ds-tag-bg) / 0.14);
	color: oklch(var(--tag-color, var(--ds-tag-bg)));
	border-color: oklch(var(--ds-tag-bg) / 0.18);
}

[data-theme="dark"] .ds-tag[data-ds-variant="soft"] {
	background: oklch(var(--ds-tag-bg) / 0.08);
	border-color: oklch(var(--ds-tag-bg) / 0.12);
}

[data-theme="dark"] .ds-tag[data-ds-intent="neutral"][data-ds-variant="soft"] {
	background: none;
	border-color: oklch(var(--color-border));
}

[data-theme="light"] .ds-tag[data-ds-variant="soft"][data-ds-intent="neutral"],
[data-theme="light"] .ds-tag[data-ds-variant="soft"][data-ds-intent="secondary"] {
	color: oklch(var(--ds-tag-fg));
	border-color: oklch(var(--ds-tag-fg) / 0.18);
}

.ds-tag[data-ds-variant="outline"] {
	background: transparent;
	color: oklch(var(--ds-tag-bg));
	border-color: oklch(var(--ds-tag-border));
}

[data-theme="dark"] .ds-tag[data-ds-variant="outline"][data-ds-intent="neutral"] {
	border-color: oklch(var(--color-border));
}

[data-theme="light"] .ds-tag[data-ds-variant="outline"][data-ds-intent="neutral"],
[data-theme="light"] .ds-tag[data-ds-variant="outline"][data-ds-intent="secondary"] {
	color: oklch(var(--ds-tag-fg));
}

/* Dark Mode Accessibility Overrides */
[data-theme="dark"] .ds-tag[data-ds-intent="neutral"] {
	--ds-tag-bg: var(--color-neutral-950);
}

[data-theme="dark"] .ds-tag[data-ds-intent="secondary"] {
	--ds-tag-bg: var(--color-surface-hover);
}

[data-theme="dark"] .ds-tag[data-ds-variant="soft"][data-ds-intent="neutral"],
[data-theme="dark"] .ds-tag[data-ds-variant="soft"][data-ds-intent="secondary"],
[data-theme="dark"] .ds-tag[data-ds-variant="outline"][data-ds-intent="neutral"],
[data-theme="dark"] .ds-tag[data-ds-variant="outline"][data-ds-intent="secondary"] {
	color: oklch(var(--color-text-muted));
}

