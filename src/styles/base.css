/* ═══════════════════════════════════════════════════════════════════════════
   Base Styles
   기본 HTML 요소 스타일: body, headings, paragraphs, code
   ═══════════════════════════════════════════════════════════════════════════ */

body {
	background-color: oklch(var(--background));
	color: oklch(var(--foreground));
	font-size: var(--fs-body);
	line-height: var(--lh-body);
	font-family: var(--font-sans);
	/* 폰트 렌더링 최적화 */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	/* 렌더링 성능 및 가독성 최적화 */
	text-rendering: optimizeLegibility;
	/* 가짜 굵기 방지 및 Variable Font 최적화 */
	font-synthesis: none;
	font-optical-sizing: auto;
	/* 기본 커닝 및 합자 설정 명시 */
	font-kerning: normal;
	font-variant-ligatures: common-ligatures contextual;
	/* 고아(orphan) 방지: 마지막 줄에 단어 하나만 남는 것을 방지 */
	text-wrap: pretty;
	/* 밑줄 디테일: CJK 문자는 from-font보다 under가 더 안전함 */
	text-decoration-skip-ink: auto;
	text-underline-position: under;
	text-underline-offset: 0.15em;
	text-decoration-thickness: 1px;
}

a {
	text-decoration: none;
}

h1,
h2,
h3 {
	/* 제목 줄바꿈 균형 맞추기 */
	text-wrap: balance;
}

h1 {
	font-size: var(--fs-h1);
	line-height: var(--lh-heading);
}

h2 {
	font-size: var(--fs-h2);
	line-height: var(--lh-heading);
}

h3 {
	font-size: var(--fs-h3);
	line-height: var(--lh-heading);
}

p {
	font-size: var(--fs-body);
	line-height: var(--lh-body);
}

small,
.text-caption {
	font-size: var(--fs-caption);
}

code,
pre {
	font-size: var(--fs-code);
	line-height: 1.5;
	font-family: var(--font-mono);
	/* 코드 가독성: 합자 끄기, 0에 사선 긋기, 숫자 등폭 */
	font-variant-ligatures: none;
	font-variant-numeric: tabular-nums slashed-zero;
}

/* Shiki 코드블록: 기본값 (태블릿+) - 가로 스크롤 */
pre.shiki {
	max-width: 100%;
	overflow-x: auto;
	white-space: pre;
}

/* 모바일에서만 줄바꿈 */
@media (max-width: 767px) {

	pre.shiki,
	pre.shiki code,
	pre.shiki span {
		white-space: pre-wrap !important;
		/* 공백/구두점에서만 줄바꿈, 단어 중간 끊김 방지 */
		word-break: normal !important;
		overflow-wrap: anywhere !important;
		hyphens: none !important;
	}

	pre.shiki {
		overflow-x: visible;
	}
}

/* Shiki 외 일반 코드블록 */
pre:not(.shiki) {
	background-color: oklch(var(--card));
	border: none;
	border-radius: 0.75rem;
	padding: 1rem;
	overflow-x: auto;
}

.code-card {
	background-color: oklch(var(--code-card));
	color: oklch(var(--code-card-foreground));
}

.code-card pre,
.code-card pre code,
.code-card code.hljs,
.code-card pre.hljs {
	background-color: oklch(var(--code-card));
	color: oklch(var(--code-card-foreground));
	border: none;
}

/* 중첩 code 요소가 줄 단위로 박스가 나뉘는 현상 방지 */
pre code {
	display: block;
	padding: 0;
	background: transparent;
	border: none;
}
