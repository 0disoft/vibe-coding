:root {
  color-scheme: light dark;

  /* Font scale (1~9). 0.05 간격: 1=1.05 … 5=1.25(기본) … 9=1.45 */
  --fs-scale: 1;
  font-size: calc(19px * var(--fs-scale));

  /* Base font sizes */
  --fs-body-base: 1.35rem;
  --fs-body-secondary-base: 1.2rem;
  --fs-comment-base: 1.25rem;
  --fs-code-base: 0.85rem;
  --fs-h1-base: 2.2rem;
  --fs-h2-base: 1.8rem;
  --fs-h3-base: 1.5rem;
  --fs-caption-base: 1.0rem;

  /* Computed font tokens */
  --fs-body: var(--fs-body-base);
  --fs-body-secondary: var(--fs-body-secondary-base);
  --fs-comment: var(--fs-comment-base);
  --fs-code: var(--fs-code-base);
  --fs-h1: var(--fs-h1-base);
  --fs-h2: var(--fs-h2-base);
  --fs-h3: var(--fs-h3-base);
  --fs-caption: var(--fs-caption-base);

  /* Line heights */
  --lh-body: 1.6;
  --lh-heading: 1.3;

  /* gleam.run inspired light palette */
  --background: 98.2% 0.008 102;
  --foreground: 41% 0.04 331;

  /* 카드, 팝오버, 포커스 영역 등 */
  --card: 96.0% 0.02 102;
  --card-foreground: 41% 0.04 331;

  --popover: 97.4% 0.02 102;
  --popover-foreground: 41% 0.04 331;

  /* 주요 액션 */
  --primary: 94% 0.1265 332;
  --primary-foreground: 19% 0.015 332;

  /* 보조 액션 / 서브 버튼 */
  --secondary: 92% 0.0746 209;
  --secondary-foreground: 20% 0.02 209;

  /* 강조 요소 (배지, 토글 등) */
  --accent: 94% 0.03 97;
  --accent-foreground: 24% 0.02 97;

  /* 링크 */
  --link: 66% 0.12 209;
  --link-foreground: 20% 0.02 209;

  /* 약한 텍스트, 서브 카드 배경 등 */
  --muted: 93% 0.01 106;
  --muted-foreground: 45% 0.02 106;

  /* 파괴적 액션 (삭제 등) - 파스텔 톤 */
  --destructive: 85% 0.10 25;
  --destructive-foreground: 18% 0.02 260;

  /* 성공 / 경고 상태 - 파스텔 톤 */
  --success: 90% 0.09 150;
  --success-foreground: 18% 0.02 150;

  --warning: 95% 0.07 95;
  --warning-foreground: 20% 0.03 95;

  /* 경계 / 입력 / 포커스 링 */
  --border: 92% 0.008 106;
  --input: 93% 0.008 106;
  --ring: 85.14% 0.1265 332;

  /* 네비게이션/오버레이 */
  --sidebar: 97% 0.012 106;
  --sidebar-foreground: 32% 0.025 331;
  --overlay: 24% 0.015 274;
}

:root[data-font-size='1'] {
  --fs-scale: 1.05;
}

:root[data-font-size='2'] {
  --fs-scale: 1.10;
}

:root[data-font-size='3'] {
  --fs-scale: 1.15;
}

:root[data-font-size='4'] {
  --fs-scale: 1.20;
}

:root[data-font-size='5'] {
  --fs-scale: 1.25;
}

:root[data-font-size='6'] {
  --fs-scale: 1.30;
}

:root[data-font-size='7'] {
  --fs-scale: 1.35;
}

:root[data-font-size='8'] {
  --fs-scale: 1.40;
}

:root[data-font-size='9'] {
  --fs-scale: 1.45;
}

:root[data-theme='dark'] {
  color-scheme: dark;

  /* gleam.run inspired dark palette */
  --background: 30.09% 0.0314 274;
  --foreground: 94% 0.01 106;

  --card: 33% 0.0314 274;
  --card-foreground: 94% 0.01 106;

  --popover: 35% 0.0314 274;
  --popover-foreground: 94% 0.01 106;

  /* 주요 액션 */
  --primary: 86% 0.1265 332;
  --primary-foreground: 14% 0.02 332;

  /* 보조 액션 / 서브 버튼 */
  --secondary: 88% 0.0746 209;
  --secondary-foreground: 14% 0.02 209;

  /* 강조 요소 (배지, 토글 등) */
  --accent: 62% 0.0252 97;
  --accent-foreground: 94% 0.01 97;

  /* 링크 */
  --link: 78% 0.12 209;
  --link-foreground: 94% 0.01 209;

  /* 약한 텍스트, 서브 카드 배경 등 */
  --muted: 38% 0.015 274;
  --muted-foreground: 82% 0.015 106;

  /* 파괴적 액션 (삭제 등) */
  --destructive: 88% 0.10 25;
  --destructive-foreground: 14% 0.02 25;

  /* 성공 / 경고 상태 */
  --success: 82% 0.09 150;
  --success-foreground: 14% 0.02 150;

  --warning: 86% 0.07 95;
  --warning-foreground: 14% 0.02 95;

  /* 경계 / 입력 / 포커스 링 */
  --border: 36% 0.012 274;
  --input: 38% 0.012 274;
  --ring: 82% 0.1265 332;

  /* 네비게이션/오버레이 */
  --sidebar: 26% 0.015 274;
  --sidebar-foreground: 90% 0.01 106;
  --overlay: 10% 0.01 274;
}

body {
  background-color: oklch(var(--background));
  color: oklch(var(--foreground));
  font-size: var(--fs-body);
  line-height: var(--lh-body);
  /* 폰트 렌더링 최적화 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1 {
  font-size: var(--fs-h1);
  line-height: var(--lh-heading);
}

h2 {
  font-size: var(--fs-h2);
  line-height: var(--lh-heading);
}

h3 {
  font-size: var(--fs-h3);
  line-height: var(--lh-heading);
}

p {
  font-size: var(--fs-body);
  line-height: var(--lh-body);
}

small,
.text-caption {
  font-size: var(--fs-caption);
}

code,
pre {
  font-size: var(--fs-code);
  line-height: 1.5;
}

pre {
  background-color: oklch(var(--card));
  border: 1px solid oklch(var(--border));
  border-radius: 0.75rem;
  padding: 1rem;
  overflow-x: auto;
}